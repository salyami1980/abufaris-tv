<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no" />
  <title>القنوات الرياضية – بث مباشر</title>
  <style>
    :root{ --pad:18px; --maxw:980px; --gap:14px; --radius:14px; --accent:#ffc107; }
    html,body{margin:0;height:100%;background:#111;color:#f5f5f5;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Kufi Arabic","Noto Sans Arabic",Arial,sans-serif;}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:var(--pad);display:flex;flex-direction:column;gap:var(--gap);}
    header{text-align:center}
    header h1{margin:0 0 6px;font-size:clamp(22px,4vw,36px)}
    header .sub{opacity:.85;font-size:clamp(14px,2.5vw,18px)}
    .player{background:#000;border-radius:var(--radius);padding:10px}
    video{width:100%;height:auto;background:#000;border-radius:10px}
    .bar{display:flex;gap:10px;justify-content:space-between;align-items:center;margin-top:8px}
    .title{font-weight:700}
    .chan-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));gap:var(--gap)}
    .tile{display:block;background:#1b1b1b;border-radius:var(--radius);overflow:hidden;outline:none;border:1px solid #282828}
    .tile:focus-visible{box-shadow:0 0 0 3px var(--accent)}
    .thumb{display:block;width:100%;height:auto}
    .hint{opacity:.8;font-size:13px}
    a{ -webkit-tap-highlight-color: transparent; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>القنوات الرياضية – بث مباشر</h1>
      <div class="sub">اضغط على أي قناة للتشغيل في الأعلى</div>
    </header>

    <!-- المشغّل البسيط -->
    <section class="player" id="playerBox" aria-label="مشغل الفيديو">
      <video id="player" controls playsinline webkit-playsinline preload="metadata"></video>
      <div class="bar">
        <div class="title" id="nowTitle">—</div>
        <div class="hint">يدعم m3u8</div>
      </div>
    </section>

    <!-- القنوات -->
    <main class="chan-list" id="list" role="list">
      <!-- بانر -->
      <div class="tile" tabindex="-1" aria-hidden="true"><img class="thumb" src="https://www4.0zz0.com/2024/02/01/09/100522793.png" alt=""></div>

      <!-- 1-5 -->
      <a class="tile" href="go:1"  tabindex="0" aria-label="قناة 1"><img class="thumb" src="https://i.suar.me/VWaMw/l" alt="قناة 1"></a>
      <a class="tile" href="go:2"  tabindex="0" aria-label="قناة 2"><img class="thumb" src="https://i.suar.me/QJQKW/l" alt="قناة 2"></a>
      <a class="tile" href="go:3"  tabindex="0" aria-label="قناة 3"><img class="thumb" src="https://i.suar.me/9NjMe/l" alt="قناة 3"></a>
      <a class="tile" href="go:4"  tabindex="0" aria-label="قناة 4"><img class="thumb" src="https://i.suar.me/YJqzY/l" alt="قناة 4"></a>
      <a class="tile" href="go:5"  tabindex="0" aria-label="قناة 5"><img class="thumb" src="https://i.suar.me/7qOgo/l" alt="قناة 5"></a>

      <!-- 11-14 -->
      <a class="tile" href="go:11" tabindex="0" aria-label="قناة 11"><img class="thumb" src="https://i.suar.me/edGM0/l" alt="قناة 11"></a>
      <a class="tile" href="go:12" tabindex="0" aria-label="قناة 12"><img class="thumb" src="https://i.suar.me/OJea8/l" alt="قناة 12"></a>
      <a class="tile" href="go:13" tabindex="0" aria-label="قناة 13"><img class="thumb" src="https://i.suar.me/jxBMz/l" alt="قناة 13"></a>
      <a class="tile" href="go:14" tabindex="0" aria-label="قناة 14"><img class="thumb" src="https://i.suar.me/LV1xG/l" alt="قناة 14"></a>

      <!-- بانر -->
      <div class="tile" tabindex="-1" aria-hidden="true"><img class="thumb" src="https://www4.0zz0.com/2024/02/01/09/194995613.png" alt=""></div>

      <!-- 6-10 -->
      <a class="tile" href="go:6" tabindex="0" aria-label="قناة 6"><img class="thumb" src="https://i.suar.me/za2GV/l" alt="قناة 6"></a>
      <a class="tile" href="go:7" tabindex="0" aria-label="قناة 7"><img class="thumb" src="https://i.suar.me/ZPe4w/l" alt="قناة 7"></a>
      <a class="tile" href="go:8" tabindex="0" aria-label="قناة 8"><img class="thumb" src="https://i.suar.me/XA56X/l" alt="قناة 8"></a>
      <a class="tile" href="go:9" tabindex="0" aria-label="قناة 9"><img class="thumb" src="https://i.suar.me/GVzGg/l" alt="قناة 9"></a>
      <a class="tile" href="go:10" tabindex="0" aria-label="قناة 10"><img class="thumb" src="https://i.suar.me/y2Lmq/l" alt="قناة 10"></a>

      <!-- 15-17 -->
      <a class="tile" href="go:15" tabindex="0" aria-label="قناة 15"><img class="thumb" src="https://i.suar.me/8e0yy/l" alt="قناة 15"></a>
      <a class="tile" href="go:16" tabindex="0" aria-label="قناة 16"><img class="thumb" src="https://i.suar.me/32YWj/l" alt="قناة 16"></a>
      <a class="tile" href="go:17" tabindex="0" aria-label="قناة 17"><img class="thumb" src="https://i.suar.me/oxe8O/l" alt="قناة 17"></a>

      <!-- بانر -->
      <div class="tile" tabindex="-1" aria-hidden="true"><img class="thumb" src="https://i.suar.me/4aJYv/l" alt=""></div>

      <!-- 18-20 -->
      <a class="tile" href="go:18" tabindex="0" aria-label="قناة 18"><img class="thumb" src="https://i.suar.me/GVl1N/l" alt="قناة 18"></a>
      <a class="tile" href="go:19" tabindex="0" aria-label="قناة 19"><img class="thumb" src="https://i.suar.me/KXOPZ/l" alt="قناة 19"></a>
      <a class="tile" href="go:20" tabindex="0" aria-label="قناة 20"><img class="thumb" src="https://i.suar.me/QJoZx/l" alt="قناة 20"></a>

      <!-- بانر -->
      <div class="tile" tabindex="-1" aria-hidden="true"><img class="thumb" src="https://i.suar.me/QJoPW/l" alt=""></div>

      <!-- 21-23 -->
      <a class="tile" href="go:21" tabindex="0" aria-label="قناة 21"><img class="thumb" src="https://i.suar.me/nx59x/l" alt="قناة 21"></a>
      <a class="tile" href="go:22" tabindex="0" aria-label="قناة 22"><img class="thumb" src="https://i.suar.me/LVdjx/l" alt="قناة 22"></a>
      <a class="tile" href="go:23" tabindex="0" aria-label="قناة 23"><img class="thumb" src="https://i.suar.me/8e0aO/l" alt="قناة 23"></a>

      <!-- بانر -->
      <div class="tile" tabindex="-1" aria-hidden="true"><img class="thumb" src="https://i.suar.me/rWdY7/l" alt=""></div>

      <!-- 24-25 -->
      <a class="tile" href="go:24" tabindex="0" aria-label="قناة 24"><img class="thumb" src="https://i.suar.me/wWodN/l" alt="قناة 24"></a>
      <a class="tile" href="go:25" tabindex="0" aria-label="قناة 25"><img class="thumb" src="https://i.suar.me/g8veK/l" alt="قناة 25"></a>

      <!-- بانر -->
      <div class="tile" tabindex="-1" aria-hidden="true"><img class="thumb" src="https://www2.0zz0.com/2025/08/23/04/489277181.png" alt=""></div>

      <!-- 26-28 -->
      <a class="tile" href="go:26" tabindex="0" aria-label="قناة 26"><img class="thumb" src="https://www2.0zz0.com/2025/08/23/04/812637220.png" alt="قناة 26"></a>
      <a class="tile" href="go:27" tabindex="0" aria-label="قناة 27"><img class="thumb" src="https://www2.0zz0.com/2025/08/23/04/480587354.png" alt="قناة 27"></a>
      <a class="tile" href="go:28" tabindex="0" aria-label="قناة 28"><img class="thumb" src="https://www2.0zz0.com/2025/08/23/04/738428476.png" alt="قناة 28"></a>
    </main>
  </div>

  <script>
    /* ===== دومين الـWorker (يجب أن يعمل مع الكود الذي أعطيتك إيّاه) ===== */
    const PROXY_ORIGIN = 'https://abufaris.salyami1980.workers.dev';
    const REF = 'http://storatv.com/'; // يُستخدم كـ Referer بالمصدر
    const prox = (u) => `${PROXY_ORIGIN}/?url=${encodeURIComponent(u)}&ref=${encodeURIComponent(REF)}`;

    /* ===== روابطك بصيغة M3U8 (كما هي) ===== */
    const RAW = {
      1:"http://storatv.com/live/0543539887/2280625079/483688.m3u8",
      2:"http://storatv.com/live/0543539887/2280625079/483657.m3u8",
      3:"http://storatv.com/live/0543539887/2280625079/483660.m3u8",
      4:"http://storatv.com/live/0543539887/2280625079/483663.m3u8",
      5:"http://storatv.com/live/0543539887/2280625079/483667.m3u8",
      6:"http://storatv.com/live/0543539887/2280625079/689531.m3u8",
      7:"http://storatv.com/live/0543539887/2280625079/689534.m3u8",
      8:"http://storatv.com/live/0543539887/2280625079/689535.m3u8",
      9:"http://storatv.com/live/0543539887/2280625079/689536.m3u8",
      10:"http://storatv.com/live/0543539887/2280625079/689539.m3u8",
      11:"http://storatv.com/live/0543539887/2280625079/483669.m3u8",
      12:"http://storatv.com/live/0543539887/2280625079/483672.m3u8",
      13:"http://storatv.com/live/0543539887/2280625079/483675.m3u8",
      14:"http://storatv.com/live/0543539887/2280625079/483678.m3u8",
      15:"http://storatv.com/live/0543539887/2280625079/689557.m3u8",
      16:"http://storatv.com/live/0543539887/2280625079/689559.m3u8",
      17:"http://storatv.com/live/0543539887/2280625079/689546.m3u8",
      18:"http://storatv.com/live/0543539887/2280625079/69195.m3u8",
      19:"http://storatv.com/live/0543539887/2280625079/69196.m3u8",
      20:"http://storatv.com/live/0543539887/2280625079/178390.m3u8",
      21:"http://storatv.com/live/0543539887/2280625079/222044.m3u8",
      22:"http://storatv.com/live/0543539887/2280625079/222045.m3u8",
      23:"http://storatv.com/live/0543539887/2280625079/222047.m3u8",
      24:"http://storatv.com/live/0543539887/2280625079/362201.m3u8",
      25:"http://storatv.com/live/0543539887/2280625079/362204.m3u8",
      26:"http://storatv.com/live/0543539887/2280625079/763544.m3u8",
      27:"http://storatv.com/live/0543539887/2280625079/763547.m3u8",
      28:"http://storatv.com/live/0543539887/2280625079/763550.m3u8"
    };
    const STREAMS = Object.fromEntries(Object.entries(RAW).map(([k,v]) => [k, prox(v)]));

    const v = document.getElementById('player');
    const nowTitle = document.getElementById('nowTitle');
    const playerBox = document.getElementById('playerBox');
    let hls = null;

    function play(src, title){
      // تنظيف
      try{ if(hls){ hls.destroy(); hls=null; } v.pause(); v.removeAttribute('src'); v.load(); }catch{}
      nowTitle.textContent = title || 'قناة مباشرة';

      if (v.canPlayType('application/vnd.apple.mpegURL')) {
        v.src = src;
        v.play().catch(()=>{});
      } else if (window.Hls && Hls.isSupported()){
        hls = new Hls({ enableWorker:true });
        hls.loadSource(src);
        hls.attachMedia(v);
        hls.on(Hls.Events.MANIFEST_PARSED, ()=> v.play().catch(()=>{}));
      } else {
        v.src = src; v.play().catch(()=>{});
      }

      // تمرير المشغّل للأعلى
      playerBox.scrollIntoView({behavior:'smooth', block:'start'});
    }

    // تشغيل أول قناة تلقائيًا (اختياري)
    window.addEventListener('DOMContentLoaded', ()=>{
      const first = document.querySelector('a.tile[href^="go:"]');
      if(first){
        const id = first.getAttribute('href').split(':')[1];
        play(STREAMS[id], first.getAttribute('aria-label')||('قناة '+id));
      }
    });

    // تشغيل عند الضغط
    document.addEventListener('click', (e)=>{
      const a = e.target.closest('a.tile[href^="go:"]'); if(!a) return;
      e.preventDefault();
      const id = a.getAttribute('href').split(':')[1];
      const url = STREAMS[id];
      play(url, a.getAttribute('aria-label')||('قناة '+id));
    });
  </script>
</body>
</html>
